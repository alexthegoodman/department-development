<!DOCTYPE html>
<html>
    <head>
        <title>Apache Terminal + PHP setup</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="bear-note-unique-identifier" content="C06B0351-5D1C-430B-8A2A-0C896309CDF6-412-00017E059279F2CF">
        <meta name="created" content="2018-07-28T19:14:31-0700"/>
        <meta name="modified" content="2018-08-21T03:21:53-0700"/>
        <meta name="tags" content="department/development, department/development/codesnippets, department"/>
        <meta name="last device" content="Alex’s MacBook Air"/>
    </head>
    <body>
        <div class="note-wrapper">
            <h1 id="Apache Terminal + PHP setup">Apache Terminal + PHP setup</h1>
<ul><li>Assure all required modules installed
</li><li>Apache config
</li><li>Transfer all hostnames to correct file, record file name
</li><li>Assure correct PHP version, extensions / modules, logs, cache
</li><li>Apache log file
</li><li>Ports for Apache (80, ssl 443) and MySQL (3306)
</li><li>Run servers as <u>___</u> (alex)
</li></ul>
<br>
<p><b>Installing and Upgrading MySQL and Apache:</b></p>
<ul><li>“ps -aef | grep httpd” to see running Apache (httpd) processes 
</li><li>update Xcode and OS Environment
</li><li>xcode-select —install (to install cli tools)
</li><li>“brew upgrade” to upgrade php and apache versions
</li><li>brew services list (to see all home-brew services)
</li><li><a href="https://gist.github.com/nrollr/3f57fc15ded7dddddcc4e82fe137b58e">Install MySQL on Sierra using Homebrew · GitHub</a>
<ul><li>	ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘<i>tmp</i>mysql.sock’ (2)
<ul><li>		Find the my.cnf file in <i>usr</i>local<i>etc</i>my.cnf for home-brew
</li><li>		<i>usr</i>local<i>var</i> contains the Home-brew database data (back this up)
</li><li>		<i>usr</i>local<i>Cellar</i> holds all of the Home-brew packages, this is what should be updated
</li><li>		brew switch mysql 5.7.18_1 (to run 5.7 over 8)
</li></ul></li></ul></li><li><a href="https://tecadmin.net/install-apache-macos-homebrew/">How to Install Apache on macOS via Homebrew – TecAdmin</a>
<ul><li>	check on the running apache processes to see if service is working
</li><li>	should be within <i>usr</i>local<i>opt</i>httpd<i>bin</i>httpd
</li><li>	brew install php71 --with-httpd24
</li><li>	<i>usr</i>local<i>etc</i>php<i>7.1</i>php.ini
</li><li>	brew services stop httpd
</li><li>	—— <b>COME BACK TO THIS LATER</b>, Apache may start just fine, same with MySQL, currently working with its httpd.conf file to get localhost displaying correctly (.conf file nearly same as MAMP’s, except Py’ WSGI disabled for example) (will use MAMP apache in meantime, config, app data, and storage data are kept protected w/ home-brew)
<ul><li>		Compare: <i>usr</i>local<i>opt</i>httpd<i>bin</i>httpd -v
</li><li>		and: apachectl -v (seems to use same .conf, but not same version)
</li><li>		and: httpd -v (so use this)
</li><li>		See <i>www</i>working-httpd.conf for copy of last working version
</li><li>		Set up Apache for autostart at macOS Sierra (re)boot - alter the paths in this section
</li><li>		The .plist is a property list, see by listing brew services
</li></ul></li></ul></li><li>httpd -V | grep SERVER_CONFIG_FILE
<ul><li>	-D SERVER_CONFIG_FILE=“<i>private</i>etc<i>apache2</i>httpd.conf”
</li><li>	open the config file
</li><li>	this file should resemble MAMP’s when finished (keep in mind the edits recommended by Install Apache instructions)
</li></ul></li><li>Move <i>www</i> folder to new doc root, backup MAMP configuration files and put in <i>www</i>
<ul><li>	DocumentRoot is <i>usr</i>local<i>var</i>www
</li><li>	The default ports have been set in <i>usr</i>local<i>etc</i>httpd<i>httpd.conf to 8080 and in /usr</i>local<i>etc</i>httpd<i>extra</i>httpd-ssl.conf to 8443 so that httpd can run without sudo.
</li></ul>
</li></ul>
<br>
<ul><li><a href="https://docs.craftcms.com/v3/requirements.html#checking-your-server">Server Requirements | Craft 3 Documentation</a>
</li></ul>
<br>
<p>Example:</p>
<ul><li>open <i>Library</i>Application\ Support<i>appsolute</i>MAMP\ PRO<i>conf</i>httpd.conf
</li><li>open <i>private</i>etc<i>apache2</i>httpd.conf
</li></ul>
<br>
<p>possible to control these PHP and Apache versions? </p>
<p>Host names with specific PHP version?</p>
<br>
<p><a href="https://gist.github.com/DragonBe/0faebe58deced34744953e3bf6afbec7">https://gist.github.com/DragonBe/0faebe58deced34744953e3bf6afbec7</a></p>
<p><a href="https://stackoverflow.com/questions/12202021/lost-httpd-conf-file-located-apache">linux - Lost httpd.conf file located apache - Stack Overflow</a></p>
<br>
<p><span class='hashtag'>#department/development/codesnippets</span></p>
        </div>
        <script type="text/javascript">
            (function() {

    var doc_ols = document.getElementsByTagName("ol");

    for ( i=0; i<doc_ols.length; i++) {

        var ol_start = doc_ols[i].getAttribute("start") - 1;
        doc_ols[i].setAttribute("style", "counter-reset:ol_counter " + ol_start + ";");

    }

})();

        </script>
        <style>
            html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}html{line-height:1}ol,ul{list-style:none}table{border-collapse:collapse;border-spacing:0}caption,th,td{text-align:left;font-weight:normal;vertical-align:middle}q,blockquote{quotes:none}q:before,q:after,blockquote:before,blockquote:after{content:"";content:none}a img{border:none}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}*{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}html{font-size:87.5%;line-height:1.57143em}html{font-size:14px;line-height:1.6em;-webkit-text-size-adjust:100%}body{background:#fcfcfc;color:#545454;text-rendering:optimizeLegibility;font-family:"AvenirNext-Regular"}a{color:#de4c4f;text-decoration:none}h1{font-family:"AvenirNext-Medium";color:#333;font-size:1.6em;line-height:1.3em;margin-bottom:.78571em}h2{font-family:"AvenirNext-Medium";color:#333;font-size:1.3em;line-height:1em;margin-bottom:.62857em}h3{font-family:"AvenirNext-Medium";color:#333;font-size:1.15em;line-height:1em;margin-bottom:.47143em}p{margin-bottom:1.57143em;hyphens:auto}hr{height:1px;border:0;background-color:#dedede;margin:-1px auto 1.57143em auto}ul,ol{margin-bottom:.31429em}ul ul,ul ol,ol ul,ol ol{margin-bottom:0px}ol{counter-reset:ol_counter}ol li:before{content:counter(ol_counter) ".";counter-increment:ol_counter;color:#e06e73;text-align:right;display:inline-block;min-width:1em;margin-right:0.5em}b,strong{font-family:"AvenirNext-Bold"}i,em{font-family:"AvenirNext-Italic"}code{font-family:"Menlo-Regular"}.text-overflow-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sf_code_string,.sf_code_selector,.sf_code_attr-name,.sf_code_char,.sf_code_builtin,.sf_code_inserted{color:#D33905}.sf_code_comment,.sf_code_prolog,.sf_code_doctype,.sf_code_cdata{color:#838383}.sf_code_number,.sf_code_boolean{color:#0E73A2}.sf_code_keyword,.sf_code_atrule,.sf_code_rule,.sf_code_attr-value,.sf_code_function,.sf_code_class-name,.sf_code_class,.sf_code_regex,.sf_code_important,.sf_code_variable,.sf_code_interpolation{color:#0E73A2}.sf_code_property,.sf_code_tag,.sf_code_constant,.sf_code_symbol,.sf_code_deleted{color:#1B00CE}.sf_code_macro,.sf_code_entity,.sf_code_operator,.sf_code_url{color:#920448}.note-wrapper{max-width:46em;margin:0px auto;padding:1.57143em 3.14286em}.note-wrapper.spotlight-preview{overflow-x:hidden}u{text-decoration:none;background-image:linear-gradient(to bottom, rgba(0,0,0,0) 50%,#e06e73 50%);background-repeat:repeat-x;background-size:2px 2px;background-position:0 1.05em}s{color:#878787}p{margin-bottom:0.1em}hr{margin-bottom:0.7em;margin-top:0.7em}ul li{text-indent:-0.35em}ul li:before{content:"•";color:#e06e73;display:inline-block;margin-right:0.3em}ul ul{margin-left:1.25714em}ol li{text-indent:-1.45em}ol ol{margin-left:1.25714em}blockquote{display:block;margin-left:-1em;padding-left:0.8em;border-left:0.2em solid #e06e73}.todo-list ul{margin-left:1.88571em}.todo-list li{text-indent:-1.75em}.todo-list li:before{content:"";display:static;margin-right:0px}.todo-checkbox{text-indent:-1.7em}.todo-checkbox svg{margin-right:0.3em;position:relative;top:0.2em}.todo-checkbox svg #check{display:none}.todo-checkbox.todo-checked #check{display:inline}.todo-checkbox.todo-checked+.todo-text{text-decoration:line-through;color:#878787}.code-inline{display:inline;background:white;border:solid 1px #dedede;padding:0.2em 0.5em;font-size:0.9em}.code-multiline{display:block;background:white;border:solid 1px #dedede;padding:0.7em 1em;font-size:0.9em;overflow-x:auto}.hashtag{display:inline-block;color:white;background:#b8bfc2;padding:0.0em 0.5em;border-radius:1em;text-indent:0}.hashtag a{color:#fff}.address a{color:#545454;background-image:linear-gradient(to bottom, rgba(0,0,0,0) 50%,#0da35e 50%);background-repeat:repeat-x;background-size:2px 2px;background-position:0 1.05em}.address svg{position:relative;top:0.2em;display:inline-block;margin-right:0.2em}.color-preview{display:inline-block;width:1em;height:1em;border:solid 1px rgba(0,0,0,0.3);border-radius:50%;margin-right:0.1em;position:relative;top:0.2em;white-space:nowrap}.color-code{margin-right:0.2em;font-family:"Menlo-Regular";font-size:0.9em}.color-hash{opacity:0.4}.ordered-list-number{color:#e06e73;text-align:right;display:inline-block;min-width:1em}.arrow svg{position:relative;top:0.08em;display:inline-block;margin-right:0.15em;margin-left:0.15em}.arrow svg #rod{stroke:#545454}.arrow svg #point{fill:#545454}mark{color:inherit;display:inline;padding:0.2em 0.5em;background-color:#fcffc0}img{max-width:100%;height:auto}

        </style>
    </body>
</html>
